(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{1119:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return w}});var t=r(5893),n=r(7757),a=r.n(n),o=r(2137),l=r(7294),c=r(9669),i=r.n(c),u=r(9249),d=r(5531),m=r(1664),h=r(5592),p=function(e){var s=e.handleSubmit,r=e.email,n=e.setEmail,a=e.newPassword,o=e.setNewPassword,l=e.secret,c=e.setSecret,i=e.loading;e.page;return(0,t.jsxs)("form",{onSubmit:s,children:[(0,t.jsxs)("div",{className:"form-group p-2",children:[(0,t.jsx)("small",{children:(0,t.jsx)("label",{className:"text-muted",children:"Email address"})}),(0,t.jsx)("input",{value:r,onChange:function(e){return n(e.target.value)},type:"email",className:"form-control",placeholder:"Enter name"})]}),(0,t.jsxs)("div",{className:"form-group p-2",children:[(0,t.jsx)("small",{children:(0,t.jsx)("label",{className:"text-muted",children:"New password"})}),(0,t.jsx)("input",{value:a,onChange:function(e){return o(e.target.value)},type:"password",className:"form-control",placeholder:"Enter new password"})]}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"form-group p-2",children:[(0,t.jsx)("small",{children:(0,t.jsx)("label",{className:"text-muted",children:"Pick a question"})}),(0,t.jsxs)("select",{className:"form-control",children:[(0,t.jsx)("option",{children:"What is your favourite color?"}),(0,t.jsx)("option",{children:"What is your best friend's name?"}),(0,t.jsx)("option",{children:"What city you were born?"})]}),(0,t.jsx)("small",{className:"form-text text-muted",children:"You can use this to reset your password if forgotten."})]}),(0,t.jsx)("div",{className:"form-group p-2",children:(0,t.jsx)("input",{value:l,onChange:function(e){return c(e.target.value)},type:"text",className:"form-control",placeholder:"Write your answer here"})})]}),(0,t.jsx)("div",{className:"form-group p-2",children:(0,t.jsx)("button",{disabled:!r||!a||!l||i,className:"btn btn-primary col-12",children:i?(0,t.jsx)(h.Z,{spin:!0,className:"py-1"}):"Submit"})})]})},x=r(2807),f=r(1163),w=function(){var e=(0,l.useState)("ryan@gmail.com"),s=e[0],r=e[1],n=(0,l.useState)("rrrrrr"),c=n[0],h=n[1],w=(0,l.useState)(""),j=w[0],g=w[1],v=(0,l.useState)(!1),N=v[0],b=v[1],y=(0,l.useState)(!1),S=y[0],_=y[1],E=(0,l.useContext)(x.S)[0],C=(0,f.useRouter)(),k=function(){var e=(0,o.Z)(a().mark((function e(t){var n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,_(!0),e.next=5,i().post("/forgot-password",{email:s,newPassword:c,secret:j});case 5:n=e.sent,o=n.data,console.log("forgot password res => ",o),o.error&&(u.Am.error(o.error),_(!1)),o.success&&(r(""),h(""),g(""),b(!0),_(!1)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),_(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(s){return e.apply(this,arguments)}}();return E&&E.token&&C.push("/"),(0,t.jsxs)("div",{className:"container-fluid",children:[(0,t.jsx)("div",{className:"row py-5 text-light bg-default-image",children:(0,t.jsx)("div",{className:"col text-center",children:(0,t.jsx)("h1",{children:"Forgot password"})})}),(0,t.jsx)("div",{className:"row py-5",children:(0,t.jsx)("div",{className:"col-md-6 offset-md-3",children:(0,t.jsx)(p,{handleSubmit:k,email:s,setEmail:r,newPassword:c,setNewPassword:h,secret:j,setSecret:g,loading:S})})}),(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col",children:(0,t.jsxs)(d.Z,{title:"Congratulations!",visible:N,onCancel:function(){return b(!1)},footer:null,children:[(0,t.jsx)("p",{children:"Congrats! You can now login with your new password"}),(0,t.jsx)(m.default,{href:"/login",children:(0,t.jsx)("a",{className:"btn btn-primary btn-sm",children:"Login"})})]})})})]})}},9195:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forgot-password",function(){return r(1119)}])}},function(e){e.O(0,[65,90,774,888,179],(function(){return s=9195,e(e.s=s);var s}));var s=e.O();_N_E=s}]);